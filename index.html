<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ViralScope - Global Viral Video Search</title>
    <style>
        :root { --primary: #ff0050; --secondary: #00f2ea; --bg: #0f0f0f; --card-bg: #1e1e1e; --text: #ffffff; --text-sec: #aaaaaa; }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg); color: var(--text); margin: 0; display: flex; flex-direction: column; align-items: center; min-height: 100vh; }
        
        /* Navbar */
        nav { width: 100%; padding: 20px 40px; display: flex; justify-content: space-between; align-items: center; box-sizing: border-box; background: rgba(15, 15, 15, 0.9); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 100; border-bottom: 1px solid #333; }
        .logo { font-size: 1.5rem; font-weight: 800; background: linear-gradient(45deg, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; cursor: pointer; }
        .lang-select { background: #2a2a2a; color: white; border: 1px solid #444; padding: 8px 15px; border-radius: 20px; font-size: 0.9rem; cursor: pointer; outline: none; }

        /* Header */
        header { width: 100%; padding: 60px 20px 40px; text-align: center; max-width: 800px; }
        h1 { font-size: 3rem; margin: 0 0 15px 0; letter-spacing: -1px; }
        p.subtitle { color: var(--text-sec); font-size: 1.1rem; margin-bottom: 40px; line-height: 1.6; }
        
        /* Search Box */
        .search-box { display: flex; max-width: 600px; margin: 0 auto; gap: 12px; position: relative; }
        input { flex: 1; padding: 18px 25px; border-radius: 50px; border: 2px solid #333; background: #2a2a2a; color: white; font-size: 1.1rem; outline: none; transition: 0.3s; }
        input:focus { border-color: var(--primary); box-shadow: 0 0 20px rgba(255, 0, 80, 0.2); background: #333; }
        button.search-btn { padding: 18px 35px; border-radius: 50px; border: none; background: linear-gradient(45deg, var(--primary), #d60043); color: white; font-weight: bold; font-size: 1rem; cursor: pointer; transition: 0.3s; white-space: nowrap; }
        button.search-btn:hover { transform: scale(1.05); box-shadow: 0 5px 15px rgba(255, 0, 80, 0.4); }

        /* Results */
        .container { width: 90%; max-width: 1200px; padding: 20px; margin-bottom: 50px; }
        .video-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; margin-top: 30px; }
        .video-card { background: var(--card-bg); border-radius: 16px; overflow: hidden; transition: 0.3s; cursor: pointer; border: 1px solid #333; }
        .video-card:hover { transform: translateY(-8px); border-color: var(--primary); box-shadow: 0 15px 30px rgba(0,0,0,0.5); }
        .thumbnail-container { position: relative; width: 100%; aspect-ratio: 16/9; overflow: hidden; }
        .thumbnail { width: 100%; height: 100%; object-fit: cover; }
        .play-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 2rem; opacity: 0; transition: 0.3s; text-shadow: 0 2px 10px rgba(0,0,0,0.8); }
        .video-card:hover .play-icon { opacity: 1; }
        .info { padding: 15px; }
        .title { font-size: 1rem; font-weight: 600; margin-bottom: 8px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; line-height: 1.4; }
        .stats { font-size: 0.8rem; color: var(--text-sec); display: flex; justify-content: space-between; align-items: center; }
        .badge { background: rgba(255, 0, 80, 0.2); color: var(--primary); padding: 2px 8px; border-radius: 4px; font-weight: bold; font-size: 0.7rem; }

        /* Modal */
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 1000; justify-content: center; align-items: center; flex-direction: column; backdrop-filter: blur(5px); }
        .modal-content { width: 90%; max-width: 1000px; aspect-ratio: 16/9; background: black; border-radius: 12px; overflow: hidden; box-shadow: 0 0 50px rgba(255, 0, 80, 0.2); }
        iframe { width: 100%; height: 100%; border: none; }
        .close-btn { margin-top: 25px; background: transparent; border: 2px solid rgba(255,255,255,0.3); padding: 12px 40px; border-radius: 30px; cursor: pointer; color: white; font-weight: bold; font-size: 1rem; transition: 0.3s; }
        .close-btn:hover { background: white; color: black; border-color: white; }

        /* Status Messages */
        .loading { display: none; margin-top: 30px; color: var(--secondary); font-weight: 600; font-size: 1.1rem; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
        .error-msg { color: #ff4444; text-align: center; margin-top: 20px; display: none; background: rgba(255, 68, 68, 0.1); padding: 15px; border-radius: 10px; border: 1px solid #ff4444; max-width: 600px; margin-left: auto; margin-right: auto; word-break: break-word; }
        .success-msg { color: #00ff00; text-align: center; margin-top: 20px; display: none; background: rgba(0, 255, 0, 0.1); padding: 15px; border-radius: 10px; border: 1px solid #00ff00; }

        @media (max-width: 600px) { h1 { font-size: 2rem; } .search-box { flex-direction: column; } button.search-btn { width: 100%; } nav { padding: 15px 20px; } }
    </style>
</head>
<body>

    <nav>
        <div class="logo" onclick="location.reload()">ViralScope üî•</div>
        <select id="languageSelector" class="lang-select" onchange="changeLanguage()">
            <option value="en">üá∫üá∏ English</option>
            <option value="id">üáÆüá© Indonesia</option>
            <option value="es">üá™üá∏ Espa√±ol</option>
            <option value="jp">üáØüáµ Êó•Êú¨Ë™û</option>
        </select>
    </nav>

    <header>
        <h1 id="txt-title">Discover Viral Videos</h1>
        <p class="subtitle" id="txt-subtitle">Search trending content from YouTube instantly.</p>
        
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Try: AI Art, Funny Cats...">
            <button class="search-btn" onclick="searchVideos()" id="txt-btn-search">Search</button>
        </div>
        <div id="loading" class="loading">Scanning viral trends...</div>
        <div id="errorMsg" class="error-msg"></div>
        <div id="successMsg" class="success-msg"></div>
    </header>

    <div class="container">
        <div class="video-grid" id="videoGrid">
            <div style="grid-column: 1/-1; text-align: center; color: #555; margin-top: 50px; font-size: 1.2rem;">
                <span id="txt-placeholder">Enter a keyword to start exploring!</span>
            </div>
        </div>
    </div>

    <div class="modal" id="videoModal">
        <div class="modal-content">
            <iframe id="youtubePlayer" src="" allowfullscreen></iframe>
        </div>
        <button class="close-btn" onclick="closeModal()" id="txt-btn-close">Close Player</button>
    </div>

    <script>
        // ‚ö†Ô∏è PENTING: GANTI DENGAN API KEY ASLI KAMU YANG SUDAH TERBUKTI BERHASIL
        const API_KEY = 'AIzaSyBGH3y7ZJwEtETVd1hQmwzBlZFmsvKBUJE'; 

        const translations = {
            en: { title: "Discover Viral Videos", subtitle: "Search trending content from YouTube instantly.", placeholder: "Try: AI Art, Funny Cats...", btnSearch: "Search", loading: "Scanning viral trends...", placeholderGrid: "Enter a keyword to start exploring!", btnClose: "Close Player", errorTitle: "Error", viralBadge: "VIRAL", noResults: "No videos found. Try different keywords." },
            id: { title: "Temukan Video Viral", subtitle: "Cari konten trending dari YouTube secara instan.", placeholder: "Coba: AI Art, Kucing Lucu...", btnSearch: "Cari", loading: "Memindai tren viral...", placeholderGrid: "Ketik kata kunci untuk mulai!", btnClose: "Tutup Player", errorTitle: "Kesalahan", viralBadge: "VIRAL", noResults: "Tidak ada video ditemukan. Coba kata kunci lain." },
            es: { title: "Descubre Videos Virales", subtitle: "Busca contenido tendencia de YouTube al instante.", placeholder: "Prueba: Arte IA, Gatos...", btnSearch: "Buscar", loading: "Escaneando tendencias...", placeholderGrid: "¬°Ingresa una palabra clave!", btnClose: "Cerrar", errorTitle: "Error", viralBadge: "VIRAL", noResults: "No se encontraron videos." },
            jp: { title: "„Éê„Ç§„É©„É´ÂãïÁîª„ÇíË¶ã„Å§„Åë„Çã", subtitle: "YouTube „ÅÆ„Éà„É¨„É≥„Éâ„ÇíÂç≥Â∫ß„Å´Ê§úÁ¥¢„ÄÇ", placeholder: "‰æãÔºöAI „Ç¢„Éº„Éà„ÄÅÁå´...", btnSearch: "Ê§úÁ¥¢", loading: "„Çπ„Ç≠„É£„É≥‰∏≠...", placeholderGrid: "„Ç≠„Éº„ÉØ„Éº„Éâ„ÇíÂÖ•ÂäõÔºÅ", btnClose: "Èñâ„Åò„Çã", errorTitle: "„Ç®„É©„Éº", viralBadge: "Ë©±È°å", noResults: "ÂãïÁîª„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„ÄÇ" }
        };

        let currentLang = 'en';

        function changeLanguage() {
            const selector = document.getElementById('languageSelector');
            currentLang = selector.value;
            const t = translations[currentLang];
            document.getElementById('txt-title').innerText = t.title;
            document.getElementById('txt-subtitle').innerText = t.subtitle;
            document.getElementById('searchInput').placeholder = t.placeholder;
            document.getElementById('txt-btn-search').innerText = t.btnSearch;
            document.getElementById('txt-loading').innerText = t.loading;
            document.getElementById('txt-placeholder').innerText = t.placeholderGrid;
            document.getElementById('txt-btn-close').innerText = t.btnClose;
            
            const errorMsg = document.getElementById('errorMsg');
            if(errorMsg.style.display === 'block' && errorMsg.dataset.type === 'no-results') {
                showError(t.noResults, false);
            }
        }

        function showError(msg, isCritical) {
            const el = document.getElementById('errorMsg');
            el.innerText = msg;
            el.style.display = 'block';
            el.dataset.type = isCritical ? 'critical' : 'no-results';
            document.getElementById('successMsg').style.display = 'none';
            if(!isCritical) {
                el.style.color = '#ffd700'; el.style.borderColor = '#ffd700'; el.style.background = 'rgba(255, 215, 0, 0.1)';
            } else {
                el.style.color = '#ff4444'; el.style.borderColor = '#ff4444'; el.style.background = 'rgba(255, 68, 68, 0.1)';
            }
        }

        function showSuccess(msg) {
            const el = document.getElementById('successMsg');
            el.innerText = msg;
            el.style.display = 'block';
            document.getElementById('errorMsg').style.display = 'none';
        }

        async function searchVideos() {
            const query = document.getElementById('searchInput').value;
            const grid = document.getElementById('videoGrid');
            const loading = document.getElementById('loading');
            const t = translations[currentLang];

            if (!query) { alert(currentLang === 'id' ? "Masukkan kata kunci!" : "Please enter a keyword!"); return; }

            grid.innerHTML = '';
            document.getElementById('errorMsg').style.display = 'none';
            document.getElementById('successMsg').style.display = 'none';
            loading.style.display = 'block';

            // Validasi API Key
            if (!API_KEY || API_KEY === '' || API_KEY === 'AIzaSyBGH3y7ZJwEtETVd1hQmwzBlZFmsvKBUJE' || API_KEY.length < 20) {
                loading.style.display = 'none';
                showError("‚ö†Ô∏è API Key Missing! Please edit the code and insert your valid YouTube API Key.", true);
                return;
            }

            try {
                const url = `https://www.googleapis.com/youtube/v3/search?part=snippet&maxResults=12&q=${encodeURIComponent(query)}&type=video&order=viewCount&key=${API_KEY}`;
                
                const response = await fetch(url);
                const data = await response.json();

                loading.style.display = 'none';

                if (response.status === 403) throw new Error(`Access Denied (403). ${data.error ? data.error.message : ''}`);
                if (response.status === 400) throw new Error(`Bad Request (400). ${data.error ? data.error.message : ''}`);
                if (data.error) throw new Error(data.error.message);

                if (!data.items || data.items.length === 0) {
                    showError(t.noResults, false);
                    return;
                }

                showSuccess(`‚úÖ Found ${data.items.length} viral videos for "${query}"!`);
                displayVideos(data.items);

            } catch (err) {
                loading.style.display = 'none';
                console.error("Search Error:", err);
                showError(`API Error: ${err.message}`, true);
            }
        }

        function displayVideos(items) {
            const grid = document.getElementById('videoGrid');
            const t = translations[currentLang];
            
            items.forEach(item => {
                const videoId = item.id.videoId;
                const snippet = item.snippet;
                const card = document.createElement('div');
                card.className = 'video-card';
                card.onclick = () => openModal(videoId);

                const thumbUrl = snippet.thumbnails.high ? snippet.thumbnails.high.url : snippet.thumbnails.medium.url;

                card.innerHTML = `
                    <div class="thumbnail-container">
                        <img src="${thumbUrl}" class="thumbnail" alt="${snippet.title}" onerror="this.src='https://via.placeholder.com/400x225?text=No+Image'">
                        <div class="play-icon">‚ñ∂</div>
                    </div>
                    <div class="info">
                        <div class="title">${snippet.title}</div>
                        <div class="stats">
                            <span>${snippet.channelTitle}</span>
                            <span class="badge">${t.viralBadge}</span>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function openModal(videoId) {
            const modal = document.getElementById('videoModal');
            const player = document.getElementById('youtubePlayer');
            player.src = `https://www.youtube.com/embed/${videoId}?autoplay=1`;
            modal.style.display = 'flex';
        }

        function closeModal() {
            const modal = document.getElementById('videoModal');
            const player = document.getElementById('youtubePlayer');
            player.src = '';
            modal.style.display = 'none';
        }

        document.getElementById('searchInput').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') searchVideos();
        });
    </script>
</body>
</html>
